const sql = require('mssql');

async function executeQuery(query) {
    // Define the configuration for your SQL Server database
    const config = {
      user: 'sa',
      password: '1234',
      server: 'localhost',
      database: 'mlcht_DB',
      options: {
          encrypt: false, 
          trustServerCertificate: true, 
      },
    };

    try {
        await sql.connect(config);
        const result = await sql.query(query)

        return result.recordset; 
    } catch (err) {
        return ('SQL error', err)
    } finally {
        await sql.close();
    }
}

module.exports = {
  executeQuery
}